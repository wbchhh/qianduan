<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鼠标在页面频繁滑动（节流）</title>
    <style>
        .box {
            width: 200px;
            margin: 100px auto;
            background-color: #ccc;
            text-align: center;
            font-size: 40px;
            padding: 80px 20px;
        }
    </style>
</head>

<body>
    <div class="box">0</div>
    <script>
        // 1.获取div标签
        var box = document.getElementsByClassName("box")[0];
        // 2.0 事件绑定
        // 鼠标在页面上不断滑动，那么计数器变量一直计算
        // 计数器变量
        var count = 0;
        // 定义变量 接收延迟函数
        var delayer = null;
        // 定义开关布尔值
        var isOpen = true;
        // document.onmousemove = function(){
        //     // 判断 如果布尔值是false
        //     // if(!isOpen){
        //     if(isOpen == false){
        //         // 终止代码
        //         return ;
        //     }
        //     // 事件被触发了，设置布尔值为false
        //     isOpen = false;
        //     // 执行延迟函数
        //     delayer = setTimeout(function(){
        //         count ++;
        //         box.innerText = count;

        //         // 在指定的时间设置布尔值为true
        //         isOpen = true;
        //         // 清除延迟函数（严谨的角度）
        //         clearTimeout(delayer);
        //     },1000)
        // }

        document.onmousemove = function () {
            // 判断 如果布尔值是false
            // 高频率触发事件
            // if(!isOpen){
            if (isOpen) {
                // 事件被触发了，设置布尔值为false
                isOpen = false;
                // 执行延迟函数
                delayer = setTimeout(function () {
                    count++;
                    box.innerText = count;
                    // 在指定的时间设置布尔值为true
                    isOpen = true;
                    // 清除延迟函数（严谨的角度）
                    clearTimeout(delayer);
                }, 1000)
            }

        }

        // 时间戳
    </script>
</body>

</html>